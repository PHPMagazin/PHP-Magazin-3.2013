class SchereSteinPapier implements MessageComponentInterface {...    public function onMessage(ConnectionInterface $from, $msg) {        if (empty($this->last_c)) {            $this->last_c = $from;            $this->last_m = $msg;        }        else {            $score = $this->play($this->last_m, $msg);            $this->clients[$this->last_c] += $score;            $this->clients[$from] -= $score;            $this->broadcast($from, 'turn', ['score' => $this->clients[$from],                                             'play' => $msg]);            $this->broadcast($this->last_c, 'turn',                                    ['score' => $this->clients[$this->last_c],                                     'play' => $this->last_m]);            unset($this->last_c);        }    }    private function play($p1, $p2) {        if ($p1 == $p2)            return 0;        switch ($p1) {            case 'Schere': return ($p2 == 'Papier') ? 1 : -1;            case 'Papier': return ($p2 == 'Schere') ? -1 : 1;            case 'Stein':  return ($p2 == 'Papier') ? -1 : 1;        }    }}